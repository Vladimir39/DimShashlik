{"ast":null,"code":"import _objectSpread from\"D:\\\\JS-React\\\\dimshishlik_update_23.08.2023\\\\DimShashlik\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";var initialState={totalPrice:0,totalAmount:0,items:[],delivery:{},time:\"\"};export var basketSlice=createSlice({name:\"basket\",initialState:initialState,reducers:{addItems:function addItems(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload.id;});if(findItem){findItem.amount++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{amount:1}));}state.totalPrice=state.items.reduce(function(sum,obj){return obj.price*obj.amount+sum;},0);state.totalAmount=state.items.reduce(function(sum,obj){return obj.amount+sum;},0);},addDelivery:function addDelivery(state,action){state.delivery=action.payload;},addDeliveryTime:function addDeliveryTime(state,action){state.time=action.payload;},setBasketItemPlus:function setBasketItemPlus(state,action){var findItemPlus=state.items.find(function(obj){return obj.id===action.payload;});if(findItemPlus){state.totalAmount++;findItemPlus.amount++;}state.totalPrice=state.items.reduce(function(sum,obj){return obj.price*obj.amount+sum;},0);},setBasketItemMinus:function setBasketItemMinus(state,action){var findItemMinus=state.items.find(function(obj){return obj.id===action.payload;});if(findItemMinus){state.totalAmount--;findItemMinus.amount--;}state.totalPrice=state.items.reduce(function(sum,obj){if(obj.id===action.payload){return sum-obj.price;}else{return sum;}},state.totalPrice);},removeItems:function removeItems(state,action){state.totalAmount=state.items.reduce(function(sum,obj){if(obj.id===action.payload){return sum-obj.amount;}else{return sum;}},state.totalAmount);state.totalPrice=state.items.reduce(function(sum,obj){if(obj.id===action.payload){return sum-obj.price*obj.amount;}else{return sum;}},state.totalPrice);state.items=state.items.filter(function(obj){return obj.id!==action.payload;});}}});var _basketSlice$actions=basketSlice.actions,setBasketItemPlus=_basketSlice$actions.setBasketItemPlus,setBasketItemMinus=_basketSlice$actions.setBasketItemMinus,addItems=_basketSlice$actions.addItems,removeItems=_basketSlice$actions.removeItems,addDelivery=_basketSlice$actions.addDelivery,addDeliveryTime=_basketSlice$actions.addDeliveryTime;export{setBasketItemPlus,setBasketItemMinus,addItems,removeItems,addDelivery,addDeliveryTime};export default basketSlice.reducer;","map":{"version":3,"sources":["D:/JS-React/dimshishlik_update_23.08.2023/DimShashlik/src/redux/slices/basketSlice.js"],"names":["createSlice","initialState","totalPrice","totalAmount","items","delivery","time","basketSlice","name","reducers","addItems","state","action","findItem","find","obj","id","payload","amount","push","reduce","sum","price","addDelivery","addDeliveryTime","setBasketItemPlus","findItemPlus","setBasketItemMinus","findItemMinus","removeItems","filter","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  totalPrice: 0,\r\n  totalAmount: 0,\r\n  items: [],\r\n  delivery: {},\r\n  time: \"\",\r\n};\r\n\r\nexport const basketSlice = createSlice({\r\n  name: \"basket\",\r\n  initialState,\r\n  reducers: {\r\n    addItems(state, action) {\r\n      const findItem = state.items.find((obj) => obj.id === action.payload.id);\r\n      if (findItem) {\r\n        findItem.amount++;\r\n      } else {\r\n        state.items.push({ ...action.payload, amount: 1 });\r\n      }\r\n      state.totalPrice = state.items.reduce((sum, obj) => {\r\n        return obj.price * obj.amount + sum;\r\n      }, 0);\r\n      state.totalAmount = state.items.reduce((sum, obj) => {\r\n        return obj.amount + sum;\r\n      }, 0);\r\n    },\r\n\r\n    addDelivery(state, action) {\r\n      state.delivery = action.payload;\r\n    },\r\n\r\n    addDeliveryTime(state, action) {\r\n      state.time = action.payload;\r\n    },\r\n\r\n    setBasketItemPlus(state, action) {\r\n      const findItemPlus = state.items.find((obj) => obj.id === action.payload);\r\n      if (findItemPlus) {\r\n        state.totalAmount++;\r\n        findItemPlus.amount++;\r\n      }\r\n      state.totalPrice = state.items.reduce((sum, obj) => {\r\n        return obj.price * obj.amount + sum;\r\n      }, 0);\r\n    },\r\n    setBasketItemMinus(state, action) {\r\n      const findItemMinus = state.items.find(\r\n        (obj) => obj.id === action.payload\r\n      );\r\n      if (findItemMinus) {\r\n        state.totalAmount--;\r\n        findItemMinus.amount--;\r\n      }\r\n\r\n      state.totalPrice = state.items.reduce((sum, obj) => {\r\n        if (obj.id === action.payload) {\r\n          return sum - obj.price;\r\n        } else {\r\n          return sum;\r\n        }\r\n      }, state.totalPrice);\r\n    },\r\n    removeItems(state, action) {\r\n      state.totalAmount = state.items.reduce((sum, obj) => {\r\n        if (obj.id === action.payload) {\r\n          return sum - obj.amount;\r\n        } else {\r\n          return sum;\r\n        }\r\n      }, state.totalAmount);\r\n      state.totalPrice = state.items.reduce((sum, obj) => {\r\n        if (obj.id === action.payload) {\r\n          return sum - obj.price * obj.amount;\r\n        } else {\r\n          return sum;\r\n        }\r\n      }, state.totalPrice);\r\n      state.items = state.items.filter((obj) => obj.id !== action.payload);\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setBasketItemPlus,\r\n  setBasketItemMinus,\r\n  addItems,\r\n  removeItems,\r\n  addDelivery,\r\n  addDeliveryTime,\r\n} = basketSlice.actions;\r\n\r\nexport default basketSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}